*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,Segoe UI,Arial}

body{
    height:100vh;
    overflow:hidden;
    background:#0a0a0a;
    color:#e8e8e8;
    transition:all .3s ease;
}

/* Tema Claro */
body.light{
    background:#fafafa;
    color:#1a1a1a;
}

/* Animaciones */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideInLeft{0%{opacity:0;transform:translateX(-100px)}100%{opacity:1;transform:translateX(0)}}
@keyframes slideInUp{0%{opacity:0;transform:translateY(50px)}100%{opacity:1;transform:translateY(0)}}
@keyframes scaleIn{0%{opacity:0;transform:scale(0.9)}100%{opacity:1;transform:scale(1)}}
@keyframes popIn{0%{opacity:0;transform:scale(0.5)}70%{transform:scale(1.05)}100%{opacity:1;transform:scale(1)}}

.app{animation:fadeIn 0.4s ease-out}
.sidebar{animation:slideInLeft 0.5s ease-out}
.main{animation:fadeIn 0.5s ease-out 0.2s backwards}
.chatPanel{animation:scaleIn 0.6s ease-out 0.4s backwards}
.inputBar{animation:slideInUp 0.6s ease-out 0.5s backwards}
.msg{animation:slideInUp 0.3s ease-out}
.chatItem{animation:slideInLeft 0.2s ease-out}

/* Background */
#bgBlur{
    position:fixed;
    inset:0;
    background:radial-gradient(circle at 20% 20%, rgba(100,100,100,.15), transparent 50%),
               radial-gradient(circle at 80% 80%, rgba(80,80,80,.15), transparent 50%);
    filter:blur(60px);
    z-index:-3;
}

body.light #bgBlur{
    background:radial-gradient(circle at 20% 20%, rgba(200,200,200,.3), transparent 50%),
               radial-gradient(circle at 80% 80%, rgba(220,220,220,.3), transparent 50%);
}

canvas{position:fixed;inset:0;z-index:-2}

/* Modal */
.modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:1000;
    animation:fadeIn 0.3s ease-out;
}

.modal-content{
    background:rgba(20,20,20,.98);
    backdrop-filter:blur(20px);
    padding:40px;
    border-radius:20px;
    min-width:350px;
    box-shadow:0 20px 60px rgba(0,0,0,.6);
    border:1px solid rgba(255,255,255,.05);
    animation:popIn 0.4s ease-out;
}

body.light .modal-content{
    background:rgba(255,255,255,.98);
    border:1px solid rgba(0,0,0,.08);
}

.modal-content h2{margin-bottom:24px;text-align:center;font-size:24px}

.modal-content input{
    width:100%;
    padding:14px;
    margin-bottom:14px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,.08);
    background:rgba(255,255,255,.05);
    color:inherit;
    outline:none;
    transition:all .2s;
}

.modal-content input:focus{
    border-color:rgba(255,255,255,.15);
    background:rgba(255,255,255,.08);
}

body.light .modal-content input{
    background:rgba(0,0,0,.04);
    border-color:rgba(0,0,0,.08);
}

body.light .modal-content input:focus{
    background:rgba(0,0,0,.06);
    border-color:rgba(0,0,0,.15);
}

.modal-content button{
    width:100%;
    padding:14px;
    border-radius:12px;
    border:none;
    background:#4a9eff;
    color:white;
    cursor:pointer;
    font-weight:600;
    transition:all .2s;
}

.modal-content button:hover{background:#3a8eef;transform:translateY(-1px)}
.modal-content button:active{transform:translateY(0)}

.auth-toggle{text-align:center;margin-top:16px;font-size:14px}
.auth-toggle a{color:#4a9eff;text-decoration:none}

/* App */
.app{display:flex;height:100vh}

.sidebar{
    width:300px;
    display:flex;
    flex-direction:column;
    background:rgba(15,15,15,.6);
    backdrop-filter:blur(20px);
    border-right:1px solid rgba(255,255,255,.06);
}

body.light .sidebar{
    background:rgba(255,255,255,.7);
    border-right:1px solid rgba(0,0,0,.08);
}

.logo{
    padding:20px;
    text-align:center;
    font-size:24px;
    font-weight:700;
    opacity:.9;
}

.chatListHeader{
    padding:12px 16px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:14px;
    font-weight:500;
    opacity:.8;
}

.chatListHeader button{
    border:none;
    background:rgba(255,255,255,.08);
    color:inherit;
    width:28px;
    height:28px;
    border-radius:8px;
    cursor:pointer;
    font-size:16px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all .2s;
}

.chatListHeader button:hover{
    background:rgba(255,255,255,.15);
    transform:scale(1.05);
}

body.light .chatListHeader button{background:rgba(0,0,0,.06)}
body.light .chatListHeader button:hover{background:rgba(0,0,0,.12)}

.searchBox{padding:8px 16px}

.searchBox input{
    width:100%;
    padding:12px 14px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,.06);
    outline:none;
    background:rgba(255,255,255,.05);
    color:inherit;
    font-size:14px;
    transition:all .2s;
}

.searchBox input:focus{
    background:rgba(255,255,255,.08);
    border-color:rgba(255,255,255,.12);
}

.searchBox input::placeholder{color:rgba(255,255,255,.35)}

body.light .searchBox input{
    background:rgba(0,0,0,.04);
    border-color:rgba(0,0,0,.06);
}

body.light .searchBox input:focus{
    background:rgba(0,0,0,.06);
    border-color:rgba(0,0,0,.12);
}

body.light .searchBox input::placeholder{color:rgba(0,0,0,.35)}

.chatList{flex:1;overflow:auto;padding:4px 8px}

.chatItem{
    margin:4px 0;
    padding:12px 14px;
    border-radius:12px;
    cursor:pointer;
    display:flex;
    justify-content:space-between;
    align-items:center;
    transition:all .2s;
    border:1px solid transparent;
}

.chatItem:hover{
    background:rgba(255,255,255,.06);
    border-color:rgba(255,255,255,.08);
    transform:translateX(4px);
}

.chatItem.active{
    background:rgba(255,255,255,.1);
    border-color:rgba(255,255,255,.12);
}

body.light .chatItem:hover{
    background:rgba(0,0,0,.04);
    border-color:rgba(0,0,0,.06);
}

body.light .chatItem.active{
    background:rgba(0,0,0,.08);
    border-color:rgba(0,0,0,.1);
}

.chatItem span{
    flex:1;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

.chatItem button{
    border:none;
    background:none;
    color:#ff6b6b;
    cursor:pointer;
    opacity:.7;
    transition:opacity .2s;
}

.chatItem button:hover{opacity:1}

.settingsBtn{
    margin:12px;
    width:40px;
    height:40px;
    border-radius:50%;
    border:none;
    background:rgba(255,255,255,.08);
    color:inherit;
    font-size:18px;
    cursor:pointer;
    transition:all .2s;
}

.settingsBtn:hover{
    background:rgba(255,255,255,.15);
    transform:rotate(90deg);
}

body.light .settingsBtn{background:rgba(0,0,0,.06)}
body.light .settingsBtn:hover{background:rgba(0,0,0,.12)}

.settingsWrap{position:relative;padding:8px}

.settingsPanel{
    position:absolute;
    left:16px;
    bottom:65px;
    background:rgba(20,20,20,.95);
    backdrop-filter:blur(20px);
    border-radius:16px;
    padding:16px;
    font-size:14px;
    display:none;
    box-shadow:0 10px 40px rgba(0,0,0,.6);
    border:1px solid rgba(255,255,255,.08);
    min-width:220px;
    animation:popIn 0.3s ease-out;
}

body.light .settingsPanel{
    background:rgba(255,255,255,.95);
    border-color:rgba(0,0,0,.1);
}

.settingsRow{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:16px;
    margin-bottom:12px;
}

.settingsRow:last-child{margin-bottom:0}

.settingsRow select{
    padding:8px 12px;
    border-radius:8px;
    border:1px solid rgba(255,255,255,.08);
    background:rgba(255,255,255,.05);
    color:inherit;
    cursor:pointer;
    transition:all .2s;
}

.settingsRow select:hover{
    background:rgba(255,255,255,.08);
}

.settingsRow select option{
    background:#1a1a1a;
    color:#e8e8e8;
}

body.light .settingsRow select{
    background:rgba(0,0,0,.04);
    border-color:rgba(0,0,0,.08);
}

body.light .settingsRow select:hover{
    background:rgba(0,0,0,.06);
}

body.light .settingsRow select option{
    background:#ffffff;
    color:#1a1a1a;
}

/* Main */
.main{flex:1;display:flex;flex-direction:column}

.topBar{
    padding:14px 18px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    background:rgba(15,15,15,.5);
    backdrop-filter:blur(20px);
    border-bottom:1px solid rgba(255,255,255,.06);
    font-size:14px;
}

body.light .topBar{
    background:rgba(255,255,255,.6);
    border-bottom-color:rgba(0,0,0,.08);
}

.topBar button{
    border:none;
    background:rgba(255,255,255,.08);
    color:inherit;
    padding:8px 14px;
    border-radius:8px;
    cursor:pointer;
    margin-left:8px;
    transition:all .2s;
}

.topBar button:hover{
    background:rgba(255,255,255,.15);
    transform:translateY(-1px);
}

body.light .topBar button{background:rgba(0,0,0,.06)}
body.light .topBar button:hover{background:rgba(0,0,0,.12)}

.chatPanel{
    flex:1;
    padding:20px 24px;
    overflow:auto;
    display:flex;
    flex-direction:column;
    gap:16px;
}

.msg{
    max-width:75%;
    padding:14px 18px;
    border-radius:16px;
    background:rgba(255,255,255,.05);
    backdrop-filter:blur(10px);
    line-height:1.6;
    font-size:15px;
    border:1px solid rgba(255,255,255,.06);
}

.msg.user{
    align-self:flex-end;
    background:rgba(255,255,255,.1);
    border-color:rgba(255,255,255,.12);
}

.msg.bot{align-self:flex-start}

body.light .msg{
    background:rgba(0,0,0,.04);
    border-color:rgba(0,0,0,.06);
}

body.light .msg.user{
    background:rgba(0,0,0,.08);
    border-color:rgba(0,0,0,.1);
}

.msg img{max-width:100%;border-radius:12px;margin-top:10px}

.typing{
    display:flex;
    gap:10px;
    padding:14px 18px;
    max-width:70%;
    align-self:flex-start;
    background:rgba(255,255,255,.05);
    border-radius:16px;
    align-items:center;
    border:1px solid rgba(255,255,255,.06);
}

.typing::before{
    content:'iaL est√° escribiendo';
    font-size:13px;
    opacity:.7;
    margin-right:6px;
}

.typing span{
    width:8px;
    height:8px;
    border-radius:50%;
    background:rgba(255,255,255,.6);
    animation:bounce 1.4s infinite ease-in-out;
}

.typing span:nth-child(1){animation-delay:-0.32s}
.typing span:nth-child(2){animation-delay:-0.16s}

@keyframes bounce{
    0%,80%,100%{transform:scale(0.8);opacity:.5}
    40%{transform:scale(1.2);opacity:1}
}

.inputBar{
    padding:18px;
    display:flex;
    gap:12px;
    background:rgba(15,15,15,.5);
    backdrop-filter:blur(20px);
    border-top:1px solid rgba(255,255,255,.06);
    align-items:center;
    position:relative;
}

body.light .inputBar{
    background:rgba(255,255,255,.6);
    border-top-color:rgba(0,0,0,.08);
}

.inputBar input[type="text"]{
    flex:1;
    padding:14px 18px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.06);
    outline:none;
    background:rgba(255,255,255,.05);
    color:inherit;
    font-size:15px;
    transition:all .2s;
}

.inputBar input[type="text"]:focus{
    background:rgba(255,255,255,.08);
    border-color:rgba(255,255,255,.12);
}

.inputBar input[type="text"]::placeholder{color:rgba(255,255,255,.35)}

body.light .inputBar input[type="text"]{
    background:rgba(0,0,0,.04);
    border-color:rgba(0,0,0,.06);
}

body.light .inputBar input[type="text"]:focus{
    background:rgba(0,0,0,.06);
    border-color:rgba(0,0,0,.12);
}

body.light .inputBar input[type="text"]::placeholder{color:rgba(0,0,0,.35)}

.inputBar button{
    padding:14px 20px;
    border-radius:14px;
    border:none;
    background:rgba(255,255,255,.1);
    color:inherit;
    cursor:pointer;
    font-weight:600;
    transition:all .2s;
}

.inputBar button:hover{
    background:rgba(255,255,255,.18);
    transform:translateY(-2px);
}

.inputBar button:active{transform:translateY(0)}

body.light .inputBar button{background:rgba(0,0,0,.08)}
body.light .inputBar button:hover{background:rgba(0,0,0,.14)}

#charCount{
    position:absolute;
    right:100px;
    bottom:26px;
    font-size:11px;
    opacity:.4;
    pointer-events:none;
}

.home{
    margin:auto;
    font-size:56px;
    opacity:.5;
    font-weight:700;
    position:relative;
}

.home::before{
    content:'';
    position:absolute;
    width:160px;
    height:160px;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M13 2L3 14h8l-1 8 10-12h-8l1-8z'/%3E%3C/svg%3E");
    background-repeat:no-repeat;
    background-position:center;
    background-size:contain;
    opacity:.1;
    top:50%;
    left:50%;
    transform:translate(-50%, -50%);
    z-index:-1;
}

.msg pre{
    background:rgba(0,0,0,.3);
    padding:10px;
    border-radius:8px;
    overflow-x:auto;
    margin:10px 0;
}

.msg code{
    background:rgba(0,0,0,.2);
    padding:3px 7px;
    border-radius:5px;
    font-family:monospace;
}

.msg pre code{background:none;padding:0}

.attachment{
    display:inline-block;
    padding:8px 12px;
    background:rgba(255,255,255,.08);
    border-radius:8px;
    margin-top:8px;
    font-size:13px;
}
