*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,Segoe UI,Arial}

body{
    height:100vh;
    overflow:hidden;
    background:#0b0b0d;
    color:#eee;
    transition:background .3s, color .3s;
}

/* Animaciones de entrada */
@keyframes fadeIn{
    from{opacity:0}
    to{opacity:1}
}

@keyframes slideInLeft{
    0%{opacity:0;transform:translateX(-100px)}
    100%{opacity:1;transform:translateX(0)}
}

@keyframes slideInRight{
    0%{opacity:0;transform:translateX(100px)}
    100%{opacity:1;transform:translateX(0)}
}

@keyframes slideInDown{
    0%{opacity:0;transform:translateY(-50px)}
    100%{opacity:1;transform:translateY(0)}
}

@keyframes slideInUp{
    0%{opacity:0;transform:translateY(50px)}
    100%{opacity:1;transform:translateY(0)}
}

@keyframes scaleIn{
    0%{opacity:0;transform:scale(0.9)}
    100%{opacity:1;transform:scale(1)}
}

@keyframes popIn{
    0%{opacity:0;transform:scale(0.5) rotate(-5deg)}
    70%{transform:scale(1.05) rotate(2deg)}
    100%{opacity:1;transform:scale(1) rotate(0)}
}

.app{
    animation:fadeIn 0.4s ease-out;
}

.sidebar{
    animation:slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.logo{
    animation:popIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.main{
    animation:fadeIn 0.5s ease-out 0.2s backwards;
}

.topBar{
    animation:slideInDown 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s backwards;
}

.chatPanel{
    animation:scaleIn 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) 0.5s backwards;
}

.inputBar{
    animation:slideInUp 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) 0.6s backwards;
}

.msg{
    animation:slideInUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.chatItem{
    animation:slideInLeft 0.3s ease-out;
}

.modal{
    animation:fadeIn 0.3s ease-out;
}

.modal-content{
    animation:popIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.settingsPanel{
    animation:popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Tema personalizado */
body.custom{
    background:var(--custom-bg, #0b0b0d);
    color:var(--custom-text, #eee);
}

body.custom #bgBlur{
    background:
        radial-gradient(700px 400px at 15% 15%, var(--custom-primary, #1f1f1f), transparent 60%),
        radial-gradient(700px 400px at 85% 85%, var(--custom-secondary, #141414), transparent 60%);
}

body.custom .sidebar{
    background:rgba(25,25,25,.55);
    backdrop-filter:blur(18px);
    border:1px solid var(--custom-primary-alpha, rgba(100,150,255,.1));
}

body.custom .msg.user{
    background:var(--custom-primary-alpha, rgba(100,150,255,.2));
    border:1px solid var(--custom-primary-alpha, rgba(100,150,255,.3));
}

body.custom .msg.bot{
    background:var(--custom-secondary-alpha, rgba(150,100,255,.15));
}

body.custom .chatItem:hover{
    background:var(--custom-primary-alpha, rgba(100,150,255,.1));
    border-color:var(--custom-primary-alpha, rgba(100,150,255,.2));
}

body.custom .chatItem.active{
    background:var(--custom-primary-alpha, rgba(100,150,255,.15));
    border-color:var(--custom-primary-alpha, rgba(100,150,255,.3));
}

body.custom .inputBar input[type="text"]{
    background:var(--custom-primary-alpha, rgba(100,150,255,.08)) !important;
    border-color:var(--custom-primary-alpha, rgba(100,150,255,.15));
}

body.custom .inputBar input[type="text"]:focus{
    background:var(--custom-primary-alpha, rgba(100,150,255,.12)) !important;
    border-color:var(--custom-primary-alpha, rgba(100,150,255,.3));
}

body.custom .inputBar button{
    background:var(--custom-primary-alpha, rgba(100,150,255,.2));
}

body.custom .inputBar button:hover{
    background:var(--custom-primary-alpha, rgba(100,150,255,.3));
}

body.custom .topBar{
    background:rgba(25,25,25,.45);
    border-bottom:1px solid var(--custom-primary-alpha, rgba(100,150,255,.1));
}

body.custom .chatListHeader button:hover{
    background:var(--custom-primary-alpha, rgba(100,150,255,.2));
}

#bgBlur{
    position:fixed;
    inset:0;
    background:
        radial-gradient(700px 400px at 15% 15%, #1f1f1f, transparent 60%),
        radial-gradient(700px 400px at 85% 85%, #141414, transparent 60%);
    filter:blur(60px);
    z-index:-3;
    transition:background .3s;
}

body.light #bgBlur{
    background:
        radial-gradient(700px 400px at 15% 15%, #ffffff, transparent 60%),
        radial-gradient(700px 400px at 85% 85%, #e5e5e5, transparent 60%);
}

body.blue #bgBlur{
    background:
        radial-gradient(700px 400px at 15% 15%, #1e3a5f, transparent 60%),
        radial-gradient(700px 400px at 85% 85%, #0f2744, transparent 60%);
}

body.purple #bgBlur{
    background:
        radial-gradient(700px 400px at 15% 15%, #3a1e5f, transparent 60%),
        radial-gradient(700px 400px at 85% 85%, #270f44, transparent 60%);
}

body.neon #bgBlur{
    background:
        radial-gradient(700px 400px at 15% 15%, #00ff88, transparent 60%),
        radial-gradient(700px 400px at 85% 85%, #0088ff, transparent 60%);
    filter:blur(80px);
}

body.minimal #bgBlur{
    background:
        radial-gradient(700px 400px at 15% 15%, #e0e0e0, transparent 60%),
        radial-gradient(700px 400px at 85% 85%, #f5f5f5, transparent 60%);
}

/* Temas */
body.light{background:#f1f2f4;color:#1a1a1a}
body.blue{background:#0a1628;color:#e0f2ff}
body.purple{background:#1a0a28;color:#f0e0ff}
body.neon{background:#0a0e27;color:#00ff88}
body.minimal{background:#fafafa;color:#222}

canvas{position:fixed;inset:0;z-index:-2}

/* Modal */
.modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.8);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:1000;
}

.modal-content{
    background:rgba(30,30,30,.95);
    backdrop-filter:blur(20px);
    padding:40px;
    border-radius:16px;
    min-width:350px;
    box-shadow:0 20px 60px rgba(0,0,0,.5);
}

body.light .modal-content{background:rgba(255,255,255,.95);color:#111}

.modal-content h2{margin-bottom:20px;text-align:center}

.modal-content input{
    width:100%;
    padding:12px;
    margin-bottom:12px;
    border-radius:8px;
    border:none;
    background:rgba(255,255,255,.1);
    color:inherit;
    outline:none;
}

body.light .modal-content input{background:rgba(0,0,0,.06)}

.modal-content button{
    width:100%;
    padding:12px;
    border-radius:8px;
    border:none;
    background:#4a9eff;
    color:white;
    cursor:pointer;
    font-weight:600;
}

.modal-content button:hover{background:#3a8eef}

.auth-toggle{text-align:center;margin-top:15px;font-size:14px}
.auth-toggle a{color:#4a9eff;text-decoration:none}

/* App */
.app{display:flex;height:100vh}

.sidebar{
    width:300px;
    display:flex;
    flex-direction:column;
    background:rgba(25,25,25,.55);
    backdrop-filter:blur(18px);
    border-right:1px solid rgba(255,255,255,.05);
}

body.light .sidebar{background:rgba(255,255,255,.65)}

.logo{padding:16px;text-align:center;font-size:22px;font-weight:600;opacity:.9}

.chatListHeader{
    padding:10px 12px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:14px;
    opacity:.8;
}

.chatListHeader button{
    border:none;
    background:rgba(255,255,255,.10);
    color:#eee;
    width:26px;
    height:26px;
    border-radius:8px;
    cursor:pointer;
    font-size:18px;
    line-height:1;
    display:flex;
    align-items:center;
    justify-content:center;
}

.chatListHeader button:hover{background:rgba(255,255,255,.18)}

body.light .chatListHeader button{background:rgba(0,0,0,.08);color:#111}
body.light .chatListHeader button:hover{background:rgba(0,0,0,.14)}

.searchBox{padding:8px 12px}

.searchBox input{
    width:100% !important;
    padding:10px 12px !important;
    border-radius:10px !important;
    border:none !important;
    outline:none !important;
    background:rgba(255,255,255,.08) !important;
    color:#eee !important;
    font-size:14px !important;
}

.searchBox input::placeholder{
    color:rgba(255,255,255,.4) !important;
}

body.light .searchBox input{
    background:rgba(0,0,0,.06) !important;
    color:#111 !important;
}

body.light .searchBox input::placeholder{
    color:rgba(0,0,0,.4) !important;
}

body.blue .searchBox input{
    background:rgba(100,150,255,.08) !important;
}

body.blue .searchBox input::placeholder{
    color:rgba(100,150,255,.4) !important;
}

body.purple .searchBox input{
    background:rgba(150,100,255,.08) !important;
}

body.purple .searchBox input::placeholder{
    color:rgba(150,100,255,.4) !important;
}

#searchInput:-webkit-autofill,
#searchInput:-webkit-autofill:hover,
#searchInput:-webkit-autofill:focus {
    -webkit-text-fill-color: #eee !important;
    -webkit-box-shadow: 0 0 0 1000px rgba(255,255,255,.08) inset !important;
}

body.light #searchInput:-webkit-autofill,
body.light #searchInput:-webkit-autofill:hover,
body.light #searchInput:-webkit-autofill:focus {
    -webkit-text-fill-color: #111 !important;
    -webkit-box-shadow: 0 0 0 1000px rgba(0,0,0,.06) inset !important;
}

.chatList{flex:1;overflow:auto}

.chatItem{
    margin:4px 8px;
    padding:12px 14px;
    border-radius:12px;
    cursor:pointer;
    display:flex;
    justify-content:space-between;
    align-items:center;
    transition:all .3s ease;
    border:1px solid transparent;
}

.chatItem:hover{
    background:rgba(255,255,255,.08);
    border-color:rgba(255,255,255,.1);
    transform:translateX(4px);
}

.chatItem.active{
    background:rgba(255,255,255,.12);
    border-color:rgba(255,255,255,.15);
    box-shadow:0 2px 8px rgba(0,0,0,.2);
}

body.light .chatItem:hover{
    background:rgba(0,0,0,.05);
    border-color:rgba(0,0,0,.08);
}

body.light .chatItem.active{
    background:rgba(0,0,0,.08);
    border-color:rgba(0,0,0,.12);
}

body.blue .chatItem:hover{
    background:rgba(100,150,255,.1);
    border-color:rgba(100,150,255,.2);
}

body.blue .chatItem.active{
    background:rgba(100,150,255,.15);
    border-color:rgba(100,150,255,.3);
}

body.purple .chatItem:hover{
    background:rgba(150,100,255,.1);
    border-color:rgba(150,100,255,.2);
}

body.purple .chatItem.active{
    background:rgba(150,100,255,.15);
    border-color:rgba(150,100,255,.3);
}

.chatItem span{
    flex:1;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

.chatItem button{border:none;background:none;color:#ff7a7a;cursor:pointer}

.settingsBtn{
    margin:10px;
    width:36px;
    height:36px;
    border-radius:50%;
    border:none;
    background:rgba(255,255,255,.08);
    color:inherit;
    font-size:18px;
    cursor:pointer;
}

.settingsWrap{position:relative;padding:6px}

.settingsPanel{
    position:absolute;
    left:12px;
    bottom:60px;
    background:rgba(30,30,30,.9);
    backdrop-filter:blur(14px);
    border-radius:12px;
    padding:12px;
    font-size:14px;
    display:none;
    box-shadow:0 10px 30px rgba(0,0,0,.5);
    min-width:200px;
}

body.light .settingsPanel{background:rgba(255,255,255,.85);color:#111}

.settingsRow{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:14px;
    margin-bottom:8px;
}

.settingsRow select{
    padding:6px;
    border-radius:6px;
    border:none;
    background:rgba(255,255,255,.1);
    color:inherit;
    cursor:pointer;
}

.settingsRow select option{
    background:#1a1a1a;
    color:#eee;
}

body.light .settingsRow select{
    background:rgba(0,0,0,.08);
}

body.light .settingsRow select option{
    background:#ffffff;
    color:#111;
}

body.blue .settingsRow select{
    background:rgba(100,150,255,.2);
}

body.blue .settingsRow select option{
    background:#0a1628;
    color:#e0f2ff;
}

body.purple .settingsRow select{
    background:rgba(150,100,255,.2);
}

body.purple .settingsRow select option{
    background:#1a0a28;
    color:#f0e0ff;
}

body.neon .sidebar{
    background:rgba(0,255,136,.1);
    border-right:1px solid rgba(0,255,136,.2);
}

body.neon .msg.user{
    background:rgba(0,255,136,.15);
    border:1px solid rgba(0,255,136,.3);
}

body.neon .msg.bot{
    background:rgba(0,136,255,.15);
    border:1px solid rgba(0,136,255,.3);
}

body.neon .chatItem:hover{
    background:rgba(0,255,136,.1);
    border-color:rgba(0,255,136,.2);
}

body.neon .chatItem.active{
    background:rgba(0,255,136,.15);
    border-color:rgba(0,255,136,.3);
}

body.neon .inputBar input[type="text"]{
    background:rgba(0,255,136,.08);
    color:#00ff88;
}

body.neon .inputBar button{
    background:rgba(0,255,136,.2);
    color:#00ff88;
}

body.neon .inputBar button:hover{
    background:rgba(0,255,136,.3);
}

body.neon .topBar{
    background:rgba(0,255,136,.05);
    border-bottom:1px solid rgba(0,255,136,.2);
}

body.minimal .sidebar{
    background:rgba(0,0,0,.02);
    border-right:1px solid rgba(0,0,0,.1);
}

body.minimal .msg.user{
    background:rgba(0,0,0,.05);
    border:1px solid rgba(0,0,0,.1);
}

body.minimal .msg.bot{
    background:rgba(0,0,0,.03);
    border:1px solid rgba(0,0,0,.08);
}

body.minimal .chatItem:hover{
    background:rgba(0,0,0,.04);
    border-color:rgba(0,0,0,.08);
}

body.minimal .chatItem.active{
    background:rgba(0,0,0,.08);
    border-color:rgba(0,0,0,.12);
}

body.minimal .inputBar input[type="text"]{
    background:rgba(0,0,0,.04);
    color:#222;
}

body.minimal .inputBar button{
    background:rgba(0,0,0,.08);
    color:#222;
}

body.minimal .inputBar button:hover{
    background:rgba(0,0,0,.12);
}

body.minimal .topBar{
    background:rgba(0,0,0,.02);
    border-bottom:1px solid rgba(0,0,0,.08);
}

body.neon .sidebar{
    background:rgba(0,255,136,.1);
    backdrop-filter:blur(18px);
    border:1px solid rgba(0,255,136,.2);
}

body.neon .msg.user{
    background:rgba(0,255,136,.15);
    border:1px solid rgba(0,255,136,.3);
}

body.neon .msg.bot{
    background:rgba(0,136,255,.15);
}

body.neon .chatItem:hover{
    background:rgba(0,255,136,.1);
    border-color:rgba(0,255,136,.2);
}

body.neon .chatItem.active{
    background:rgba(0,255,136,.15);
    border-color:rgba(0,255,136,.3);
}

body.neon .inputBar input[type="text"]{
    background:rgba(0,255,136,.08);
    border-color:rgba(0,255,136,.15);
}

body.neon .inputBar button{
    background:rgba(0,255,136,.2);
}

body.neon .inputBar button:hover{
    background:rgba(0,255,136,.3);
}

body.neon .topBar{
    background:rgba(0,255,136,.05);
    border-bottom:1px solid rgba(0,255,136,.1);
}

body.minimal .sidebar{
    background:rgba(0,0,0,.02);
    backdrop-filter:blur(18px);
    border-right:1px solid rgba(0,0,0,.1);
}

body.minimal .msg.user{
    background:rgba(0,0,0,.08);
    border:1px solid rgba(0,0,0,.1);
}

body.minimal .msg.bot{
    background:rgba(0,0,0,.04);
}

body.minimal .chatItem:hover{
    background:rgba(0,0,0,.05);
    border-color:rgba(0,0,0,.1);
}

body.minimal .chatItem.active{
    background:rgba(0,0,0,.08);
    border-color:rgba(0,0,0,.15);
}

body.minimal .inputBar input[type="text"]{
    background:rgba(0,0,0,.04);
    border-color:rgba(0,0,0,.1);
}

body.minimal .inputBar button{
    background:rgba(0,0,0,.06);
}

body.minimal .inputBar button:hover{
    background:rgba(0,0,0,.1);
}

body.minimal .topBar{
    background:rgba(0,0,0,.02);
    border-bottom:1px solid rgba(0,0,0,.08);
}

#customThemePanel{
    display:flex;
    gap:10px;
    padding:10px;
    background:rgba(255,255,255,.05);
    border-radius:8px;
}

#customThemePanel input[type="color"]{
    width:50px;
    height:35px;
    border:none;
    border-radius:6px;
    cursor:pointer;
}

.main{flex:1;display:flex;flex-direction:column}

.topBar{
    padding:12px 14px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    background:rgba(25,25,25,.45);
    backdrop-filter:blur(14px);
    border-bottom:1px solid rgba(255,255,255,.05);
    font-size:14px;
}

body.light .topBar{background:rgba(255,255,255,.6)}

.topBar button{
    border:none;
    background:rgba(255,255,255,.1);
    color:inherit;
    padding:6px 12px;
    border-radius:6px;
    cursor:pointer;
    margin-left:8px;
}

.topBar button:hover{background:rgba(255,255,255,.18)}

body.light .topBar button{background:rgba(0,0,0,.08)}

.chatPanel{
    flex:1;
    padding:18px 22px;
    overflow:auto;
    display:flex;
    flex-direction:column;
    gap:14px;
}

.msg{
    max-width:80%;
    padding:12px 16px;
    border-radius:12px;
    background:rgba(255,255,255,.07);
    backdrop-filter:blur(8px);
    line-height:1.5;
    font-size:15px;
}

.msg.user{align-self:flex-end;background:rgba(255,255,255,.14)}
.msg.bot{align-self:flex-start}

body.light .msg{background:rgba(0,0,0,.05);color:#111}
body.light .msg.user{background:rgba(0,0,0,.10)}

.msg img{max-width:100%;border-radius:8px;margin-top:8px}

.typing{
    display:flex;
    gap:8px;
    padding:12px 16px;
    max-width:75%;
    align-self:flex-start;
    background:rgba(255,255,255,.07);
    border-radius:12px;
    align-items:center;
}

.typing::before{
    content:'iaL est√° escribiendo';
    font-size:13px;
    opacity:.7;
    margin-right:8px;
}

.typing span{
    width:8px;
    height:8px;
    border-radius:50%;
    background:rgba(255,255,255,.6);
    animation:bounce 1.4s infinite ease-in-out;
}

.typing span:nth-child(1){animation-delay:-0.32s}
.typing span:nth-child(2){animation-delay:-0.16s}
.typing span:nth-child(3){animation-delay:0s}

@keyframes bounce{
    0%,80%,100%{transform:scale(0.8);opacity:.5}
    40%{transform:scale(1.2);opacity:1}
}

.inputBar{
    padding:16px;
    display:flex;
    gap:10px;
    background:rgba(25,25,25,.45);
    backdrop-filter:blur(14px);
    border-top:1px solid rgba(255,255,255,.05);
    align-items:center;
}

body.light .inputBar{background:rgba(255,255,255,.6)}

.inputBar input[type="text"]{
    flex:1;
    padding:12px 16px;
    border-radius:12px;
    border:none;
    outline:none;
    background:rgba(255,255,255,.08);
    color:#eee;
    font-size:15px;
}

.inputBar input[type="text"]::placeholder{
    color:rgba(255,255,255,.4);
}

body.light .inputBar input[type="text"]{
    background:rgba(0,0,0,.06);
    color:#111;
}

body.light .inputBar input[type="text"]::placeholder{
    color:rgba(0,0,0,.4);
}

body.blue .inputBar input[type="text"]{
    background:rgba(100,150,255,.08);
}

body.blue .inputBar input[type="text"]::placeholder{
    color:rgba(100,150,255,.4);
}

body.purple .inputBar input[type="text"]{
    background:rgba(150,100,255,.08);
}

body.purple .inputBar input[type="text"]::placeholder{
    color:rgba(150,100,255,.4);
}

.inputBar button{
    padding:12px 18px;
    border-radius:12px;
    border:none;
    background:rgba(255,255,255,.12);
    color:inherit;
    cursor:pointer;
    font-weight:600;
    transition:all .3s ease;
}

.inputBar button:hover{
    background:rgba(255,255,255,.18);
    transform:translateY(-2px);
}

.inputBar button:active{
    transform:translateY(0);
}

body.light .inputBar button{
    background:rgba(0,0,0,.08);
}

body.light .inputBar button:hover{
    background:rgba(0,0,0,.12);
}

body.blue .inputBar button{
    background:rgba(100,150,255,.2);
}

body.blue .inputBar button:hover{
    background:rgba(100,150,255,.3);
}

body.purple .inputBar button{
    background:rgba(150,100,255,.2);
}

body.purple .inputBar button:hover{
    background:rgba(150,100,255,.3);
}

.home{
    margin:auto;
    font-size:52px;
    opacity:.6;
    font-weight:600;
    position:relative;
}

.home::before{
    content:'';
    position:absolute;
    width:150px;
    height:150px;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M13 2L3 14h8l-1 8 10-12h-8l1-8z'/%3E%3C/svg%3E");
    background-repeat:no-repeat;
    background-position:center;
    background-size:contain;
    opacity:.12;
    top:50%;
    left:50%;
    transform:translate(-50%, -50%);
    z-index:-1;
    color:currentColor;
}

.msg pre{
    background:rgba(0,0,0,.3);
    padding:8px;
    border-radius:6px;
    overflow-x:auto;
    margin:8px 0;
}

.msg code{
    background:rgba(0,0,0,.2);
    padding:2px 6px;
    border-radius:4px;
    font-family:monospace;
}

.msg pre code{background:none;padding:0}

.attachment{
    display:inline-block;
    padding:6px 10px;
    background:rgba(255,255,255,.1);
    border-radius:6px;
    margin-top:6px;
    font-size:13px;
}


#msgInput:-webkit-autofill,
#msgInput:-webkit-autofill:hover,
#msgInput:-webkit-autofill:focus {
    -webkit-text-fill-color: #eee;
    -webkit-box-shadow: 0 0 0 1000px rgba(255,255,255,.08) inset;
}

body.light #msgInput:-webkit-autofill,
body.light #msgInput:-webkit-autofill:hover,
body.light #msgInput:-webkit-autofill:focus {
    -webkit-text-fill-color: #111;
    -webkit-box-shadow: 0 0 0 1000px rgba(0,0,0,.06) inset;
}

body.blue #msgInput:-webkit-autofill,
body.blue #msgInput:-webkit-autofill:hover,
body.blue #msgInput:-webkit-autofill:focus {
    -webkit-text-fill-color: #e0f2ff;
    -webkit-box-shadow: 0 0 0 1000px rgba(100,150,255,.08) inset;
}

body.purple #msgInput:-webkit-autofill,
body.purple #msgInput:-webkit-autofill:hover,
body.purple #msgInput:-webkit-autofill:focus {
    -webkit-text-fill-color: #f0e0ff;
    -webkit-box-shadow: 0 0 0 1000px rgba(150,100,255,.08) inset;
}
